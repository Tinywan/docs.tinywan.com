<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>6 - 函数 - 万物联网服务平台</title>
    
    
    
    
</head>
<body>
<div id="root"></div>
<script type="application/payload+json">
{"id":"yWP4GW","summary":[{"id":"","title":"第0章 远程安装","articles":[]},{"id":"","title":"第1章 介绍和安装","articles":[{"title":"1 - 介绍和安装","ref":"\/docs\/golang_tutorial_01.md","path":"\/docs\/golang_tutorial_01.html","children":[]},{"title":"2 - Hello World ","ref":"\/docs\/golang_tutorial_02.md","path":"\/docs\/golang_tutorial_02.html","children":[]}]},{"id":"","title":"第2章 变量、类型和常量","articles":[{"title":"3 - 变量","ref":"\/docs\/golang_tutorial_03.md","path":"\/docs\/golang_tutorial_03.html","children":[]},{"title":"4 - 类型","ref":"\/docs\/golang_tutorial_04.md","path":"\/docs\/golang_tutorial_04.html","children":[]},{"title":"5 - 常量","ref":"\/docs\/golang_tutorial_05.md","path":"\/docs\/golang_tutorial_05.html","children":[]}]},{"id":"","title":"第3章 函数和包","articles":[{"title":"6 - 函数","ref":"\/docs\/golang_tutorial_06.md","path":"\/docs\/golang_tutorial_06.html","children":[]},{"title":"7 - 包","ref":"\/docs\/golang_tutorial_07.md","path":"\/docs\/golang_tutorial_07.html","children":[]}]},{"id":"","title":"第4章 条件和循环语句","articles":[{"title":"8 - if else 语句","ref":"\/docs\/golang_tutorial_08.md","path":"\/docs\/golang_tutorial_08.html","children":[]},{"title":"9 - 循环语句","ref":"\/docs\/golang_tutorial_09.md","path":"\/docs\/golang_tutorial_09.html","children":[]},{"title":"10 - switch语句","ref":"\/docs\/golang_tutorial_10.md","path":"\/docs\/golang_tutorial_10.html","children":[]}]},{"id":"","title":"第5章 数组、切片和变参函数","articles":[{"title":"11 - 数组和切片","ref":"\/docs\/golang_tutorial_11.md","path":"\/docs\/golang_tutorial_11.html","children":[]},{"title":"12 - 变 参函数","ref":"\/docs\/golang_tutorial_12.md","path":"\/docs\/golang_tutorial_12.html","children":[]}]},{"id":"","title":"第6章 更多的类型","articles":[{"title":"13 - Map","ref":"\/docs\/golang_tutorial_13.md","path":"\/docs\/golang_tutorial_13.html","children":[]},{"title":"14 - 字符串","ref":"\/docs\/golang_tutorial_14.md","path":"\/docs\/golang_tutorial_14.html","children":[]}]},{"id":"","title":"第7章 指针、结构体和方法","articles":[{"title":"15 - 指针","ref":"\/docs\/golang_tutorial_15.md","path":"\/docs\/golang_tutorial_15.html","children":[]},{"title":"16 -  结构体","ref":"\/docs\/golang_tutorial_16.md","path":"\/docs\/golang_tutorial_16.html","children":[]},{"title":"17 -  方法","ref":"\/docs\/golang_tutorial_17.md","path":"\/docs\/golang_tutorial_17.html","children":[]}]},{"id":"","title":"第8章 接口","articles":[]},{"id":"","title":"第9章 并发","articles":[{"title":" 21 - 协程","ref":"\/docs\/golang_tutorial_21.md","path":"\/docs\/golang_tutorial_21.html","children":[]}]},{"id":"","title":"第10章 面向对象编程","articles":[]},{"id":"","title":"第11章 延迟和错误处理","articles":[{"title":"35 - 读文件","ref":"\/docs\/golang_tutorial_35.md","path":"\/docs\/golang_tutorial_35.html","children":[]}]},{"id":"","title":"文档","articles":[{"title":"如何编写 Go代码","ref":"\/docs\/how_to_write_go_code.md","path":"\/docs\/how_to_write_go_code.html","children":[]}]}],"config":{"pluginsConfig":{"theme-default":{"auto_open":true,"navs":[{"title":"ThinkAPI","url":"https:\/\/docs.topthink.com\/think-api\/1835085"},{"title":"Tinywan","url":"https:\/\/market.topthink.com\/website"}]}},"title":"万物联网服务平台","plugins":["highlight","comment"],"theme":"classic"},"file":{"path":"\/docs\/golang_tutorial_06.html","content":"6 - 函数\n========================\n\n上一节：[第五篇  常量](\/docs\/golang_tutorial_05.md)   \n下一节：[第七篇  包](\/docs\/golang_tutorial_07.md)   \n\n这是本Golang系列教程的第6篇。  \n\n## 什么是函数？  \n\n函数是执行特定任务的代码块。 函数接受输入，对输入执行一些计算并生成输出。\n\n## 函数声明  \n\n在 Go 中声明一个函数的语法为：  \n\n```golang\nfunc functionname(parametername type) returntype {  \n \/\/function body\n}\n```\n\n函数声明以关键字 `func` 开头，后面是`函数名字`，接着是在 ( 和 ) 之间指定的参数列表，然后是函数的`返回类型`。指定参数的语法为参数名称后面跟着参数类型。可以指定任意数量的参数，形式为： `(parameter1 type, parameter2 type)`。最后是由 `{` 和 `}` 以及它们之间的代码块组成的函数体。  \n\n在一个函数中，参数和返回值是可选的。因此下面的语法也是合法的函数声明：  \n\n```golang\nfunc functionname() {  \n}\n```\n\n## 函数的例子  \n\n让我们写一个函数，它以单个产品的价格和产品数量作为输入参数，并以总价格（单个产品的价格与产品数量的乘积）作为返回值。  \n\n```golang\nfunc calculateBill(price int, no int) int {  \n    var totalPrice = price * no\n    return totalPrice\n}\n```\n\n上面的函数接受两个 int 类型的输入参数：`price` 和 `no`，并返回 `totalPrice`（`price` 与` no `的乘积）。返回值的类型也是` int`。  \n\n**如果连续的参数具有相同的类型，我们可以避免每次都写出它们的类型，只需要在结束的时候写一次就可以了**，比如：`price int, no int `可以写成：`price, no int`。 于是上面的函数可以写成：  \n\n```golang\nfunc calculateBill(price, no int) int {  \n    var totalPrice = price * no\n    return totalPrice\n}\n```\n\n现在我们已经准备好了一个函数，我们可以从代码中的某个地方调用它。 调用函数的语法是`functionname（parameters）`。 上面的函数可以用代码调用。  \n\n```golang\ncalculateBill(10, 5)  \n```\n\n下面是完整的程序，它调用 calculateBill 并计算总价格。  \n\n```golang\npackage main\n\nimport (  \n    \"fmt\"\n)\n\nfunc calculateBill(price, no int) int {  \n    var totalPrice = price * no\n    return totalPrice\n}\nfunc main() {  \n    price, no := 90, 6\n    totalPrice := calculateBill(price, no)\n    fmt.Println(\"Total price is\", totalPrice)\n}\n```\n\n上述程序将打印结果：\n\n```golang\nTotal price is 540  \n```\n\n## 多个返回值  \n\n一个函数可以返回多个值。让我们写一个函数 `rectProps`，它接受一个矩形的长和宽，并返回该矩形的面积和周长。矩形的面积为长与宽的积。周长为长与宽的和的 2 倍。  \n\n```golang\npackage main\n\nimport (  \n    \"fmt\"\n)\n\nfunc rectProps(length, width float64)(float64, float64) {  \n    var area = length * width\n    var perimeter = (length + width) * 2\n    return area, perimeter\n}\n\nfunc main() {  \n     area, perimeter := rectProps(10.8, 5.6)\n    fmt.Printf(\"Area %f Perimeter %f\", area, perimeter) \n}\n```\n\n如果一个函数有多个返回值，那么这些返回值应该用小括号()括起来，比如：`func rectProps(length, width float64)(float64, float64) `接受两个类型为 `float64` 的参数（`length` 和 `width`），并且同样返回两个类型为 `float64` 的返回值。上面程序的输出为：  \n\n```golang\nArea 60.480000 Perimeter 32.800000  \n```\n\n## 命名返回值  \n\n可以给一个函数的返回值指定名字。如果指定了一个返回值的名字，则可以视为在该函数的第一行中定义了该名字的变量。  \n\n上面的 `rectProps` 函数可以用具名返回值的形式重写如下：  \n\n```golang\nfunc rectProps(length, width float64)(area, perimeter float64) {  \n    area = length * width\n    perimeter = (length + width) * 2\n    return \/\/no explicit return value\n}\n```\n\n在上面的函数中，`area `和 `perimeter` 是具名返回值。注意 `return` 语句没有指定任何返回值。因为在函数声明时已经指定 `area` 和 `perimeter` 是返回值，在遇到 `return` 语句时它们会自动从函数中返回。  \n\n<u>（译者注：在Go中，有返回值的函数，无论是具名返回值还是普通形式的返回值，函数中必须包含 `return` 语句。）<\/u>  \n\n## 空指示符  \n\n下划线`_`表示空指示符`blank identifier`。它可以用于代替任何类型的任何值。让我们看看如何使用空指示符。\n\n我们知道上面定义的函数 `rectProps` 返回矩形的面积`area`和周长`perimeter`。如果我们只需要获取 `area` 而想要忽略 `perimeter`该怎么办呢？这时候就可以使用空指示符。  \n\n下面的程序仅接收 `rectProps` 返回的 `area`：  \n\n```golang\npackage main\n\nimport (  \n    \"fmt\"\n)\n\nfunc rectProps(length, width float64) (float64, float64) {  \n    var area = length * width\n    var perimeter = (length + width) * 2\n    return area, perimeter\n}\nfunc main() {  \n    area, _ := rectProps(10.8, 5.6) \/\/ perimeter is discarded\n    fmt.Printf(\"Area %f \", area)\n}\n```\n\n在` area, _ := rectProps(10.8, 5.6) `这一行，我们仅仅获取了 `area`，而使用空指示符 `_`来忽略第二个返回值`perimeter`。  \n","meta":{"mtime":""}}}
</script>

    <script src="../tmp/book/624c24de5f335/asset/lodash/lodash.min.js?v=4.17.21"></script>

    <script src="../tmp/book/624c24de5f335/asset/react/react.production.min.js?v=17.0.2"></script>

    <script src="../tmp/book/624c24de5f335/asset/react-dom/react-dom.production.min.js?v=17.0.2"></script>

    <script src="../tmp/book/624c24de5f335/asset/reader/index.js?v=1.0.24"></script>

    <script src="../tmp/book/624c24de5f335/asset/plugins/comment/index.js?v=0.0.1"></script>

    <script src="../tmp/book/624c24de5f335/asset/plugins/highlight/index.js?v=1.0.0"></script>

    <script src="../tmp/book/624c24de5f335/asset/plugins/theme-classic/index.js?v=1.0.2"></script>

<script type="text/javascript">
    TopWrite.bootstrap();
</script>
</body>
</html>
